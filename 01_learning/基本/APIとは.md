
# テーマ

API・エンドポイント・HTTPメソッド（GET / POST / PUT / DELETE）の整理

## 目的

「APIをたたく」「エンドポイント」という言葉が、  
**実際に何を指しているのか**を曖昧にせず理解するため。

## 本筋

- APIとはどの処理を指す言葉か
    
- エンドポイントとは何か（URLとの違い）
    
- API Gateway と普通のアプリのAPIの違い
    
- 同じURLでも HTTPメソッドが違うと別エンドポイントになる理由


## 結論

- **APIとは「外部からHTTPで呼び出せる形になっている処理」**
    
- **エンドポイントとは、そのAPIの入口（HTTPメソッド＋URL）**
    
- 普通のアプリでは
    
    - エンドポイント定義
        
    - 振り分け
        
    - 処理  
        を **アプリ自身がすべて持っている**
        
- API Gateway は
    
    - エンドポイントの用意
        
    - リクエストの振り分け  
        を担当し、  
        **実際の処理は Lambda に任せる**
        
- 同じURLでも  
    **HTTPメソッドが違えば、意味も処理も違うため別エンドポイント扱い**
    
- GET / POST / PUT / DELETE をどう使うかは  
    **APIを作る人が決めるが、誤解を生まないための慣習がある**

## 図解

```text
【普通のアプリのAPI】

URL
 ↓
アプリ（C#など）
 ├ エンドポイント定義
 ├ リクエスト振り分け
 └ 処理（DB操作など）
```

```text
【API Gateway + Lambda】

URL
 ↓
API Gateway（入口・振り分け）
 ↓
Lambda（処理）
```

```text
【同じURLでもHTTPメソッドで意味が変わる】

/api/orders/10

GET    → 注文10を取得する（状態を変えない）
PUT    → 注文10をこの内容で置き換える
DELETE → 注文10を削除する

※ URLは同じでも、それぞれ別エンドポイントとして扱う
```

## 詳細

- **API**
    
    - 外部からHTTP経由で呼び出せる処理
        
    - MVCでもLambdaでも関係ない
        
- **エンドポイント**
    
    - APIの入口となる到達点
        
    - 「処理」ではなく「入口」
        
    - 正確には「HTTPメソッド＋URL」の組み合わせ
        
- **API Gateway**
    
    - APIの入口と振り分け専門
        
    - 自身は業務処理をしない
        
- **HTTPメソッドの役割**
    
    - GET：状態を変えない前提で取得する
        
    - POST：新しく作る／何かを起こす
        
    - PUT：同じIDのデータを丸ごと置き換える
        
    - DELETE：消す
        
- どのメソッドで呼ぶかはAPI設計者が決めるが、  
    「このURLで何が起きるか」を伝えるラベルとして使う

